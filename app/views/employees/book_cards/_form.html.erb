<%= form_for [:employees, @book_card] do |f| %>
    <%= render "shared/error_messages", object: f.object %>
    <div class = "form-floating mb-3">
        <%= f.text_field :client_id, class: "form-control" %>
        <%= f.label :client_id, t("employees.book_cards.label_client_id") %>
    </div>
    <% unless @book_card.new_record? %>
        <div class = "form-floating mb-3">
            <%= f.text_field :employee_id, class: "form-control" %>
            <%= f.label :employee_id, t("employees.book_cards.label_employee_id") %>
        </div>
        <div class = "form-floating mb-3">
            <%= f.select :status, @statuses, {include_blank: t(".select_none")}, class: "form-control" %>
            <%= f.label :status, t("employees.book_cards.label_status") %>
        </div>
    <% end %>
    <div class = "form-floating mb-3">
        <%= f.date_select :return_date, {order: [:month, :day, :year],
            start_year: Date.today.year, end_year: Date.today.year + 2},
            class: "form-control" %>
        <%= f.label :return_date, t("employees.book_cards.label_return_date") %>
    </div>

    <div id = "borrowed_books">
        <%= f.fields_for :borrowed_books do |bb| %>
            <%= render "borrowed_book_fields", f: bb %>
            <%= render "shared/error_book_unavailable", object: bb.object %>
        <% end %>
    </div>
        
    <div class="links">
        <%= link_to_add_association t(".btn_add_book"), f, :borrowed_books, class: "btn btn-success mt-2" %>
    </div>

    <div class = "d-grid mt-3">
        <%= f.submit yield(:btn_text), class: "btn btn-primary btn-lg" %>
    </div>
<% end %>

